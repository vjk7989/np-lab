import java.net.*;
import java.io.*;

public class SortClient {
    public static void main(String[] args) {
        final int PORT = 9876;  // Port to communicate with
        final int BUFFER_SIZE = 1024;  // Buffer size for UDP packets
        final String SERVER_ADDRESS = "localhost";  // Server's address

        try (DatagramSocket socket = new DatagramSocket()) {
            // Configure socket options
            socket.setSoTimeout(5000);  // 5-second timeout for responses
            socket.setReceiveBufferSize(BUFFER_SIZE);
            socket.setSendBufferSize(BUFFER_SIZE);

            // List of numbers to be sorted
            String numbers = "34, 2, 78, 12, 56, 1, 99";
            System.out.println("Sending numbers to be sorted: " + numbers);

            // Send data to the server
            byte[] data = numbers.getBytes();
            InetAddress serverAddress = InetAddress.getByName(SERVER_ADDRESS);
            DatagramPacket requestPacket = new DatagramPacket(data, data.length, serverAddress, PORT);
            socket.send(requestPacket);

            // Receive response from the server
            byte[] buffer = new byte[BUFFER_SIZE];
            DatagramPacket responsePacket = new DatagramPacket(buffer, BUFFER_SIZE);
            socket.receive(responsePacket);

            // Display the sorted numbers received from the server
            String sortedNumbers = new String(responsePacket.getData(), 0, responsePacket.getLength());
            System.out.println("Sorted numbers received from server: " + sortedNumbers);

        } catch (SocketTimeoutException e) {
            System.out.println("Response timed out.");
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
